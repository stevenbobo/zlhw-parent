<?xml version="1.0" encoding="UTF-8"?>

<process name="mouldFlow" xmlns="http://jbpm.org/4.4/jpdl">
    <on event="end">
        <event-listener class="com.zb.jnlxc.JBPM.MouldFlowEndListener">
        </event-listener>
    </on>
    <start g="12,7,48,48" name="start1">
      <transition to="是否出厂"/>
    </start>
   <task form="/content/flow/newmould/mjrcys.vm" g="29,101,113,52" name="模具入场验收">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-32,-11" name="通过" to="入厂责任人分配"/>
      <transition g="332,105:-41,-6" name="申请报废" to="报废退模申请"/>
      <transition g="-153,-60" name="申请返修" to="返修模具申请"/>
   </task>
   <task form="/content/flow/newmould/rczrrfp.vm" g="15,206,140,52" name="入厂责任人分配">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-33,-12" name="确定" to="新模技术检修处理"/>
   </task>
   <task form="/content/flow/newmould/xmjjxcl.vm" g="22,328,134,52" name="新模技术检修处理">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="211,266:-20,-24" name="退模申请" to="报废退模申请"/>
      <transition g="313,350:13,-7" name="返修申请" to="返修模具申请"/>
      <transition g="-13,-7" name="确定" to="抛排新模处理"/>
   </task>
   <task form="/content/flow/newmould/fxtmccqr.vm" g="528,193,132,52" name="返修退模出厂确认">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-25,-6" name="出厂" to="返修及修改尺寸入场确认"/>
   </task>
   <task form="/content/flow/newmould/bftmsq.vm" g="546,85,92,52" name="报废退模申请">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-26,-8" name="同意" to="返修退模出厂确认"/>
      <transition g="302,266:-12,-14" name="驳回检修" to="新模技术检修处理"/>
      <transition g="338,132:-56,-3" name="驳回验收" to="模具入场验收"/>
      <transition g="-9,-13" name="驳回转修" to="(试模)异常模转修处理"/>
   </task>
   <task form="/content/flow/newmould/fxmjsq.vm" g="549,312,92,52" name="返修模具申请">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-27,-11" name="同意" to="返修退模出厂确认"/>
      <transition g="312,330:24,-15" name="驳回检修" to="新模技术检修处理"/>
      <transition g="640,272:29,-29" name="驳回转修" to="(试模)异常模转修处理"/>
   </task>

   <task form="/content/flow/newmould/ppxmcl.vm" g="561,375,92,52" name="抛排新模处理">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-23,5" name="合格" to="新模合格入库"/>
      <transition g="-51,-12" name="氮化" to="氮化开炉确认"/>
      <transition g="-30,-10" name="试模" to="挤压班组收模"/>
   </task>
   <task form="/content/flow/newmould/jymjjwqr.vm" g="533,522,125,52" name="挤压模具加温确认">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-19,-17" name="确定" to="挤压生产（试模）使用"/>
      <transition g="15,-9" name="还库" to="抛排新模处理"/>
   </task>
   <task form="/content/flow/newmould/jybzsm.vm" g="104,532,92,52" name="挤压班组收模">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="414,494:2,-7" name="还库" to="抛排新模处理"/>
      <transition g="-2,-19" name="确定" to="挤压模具加温确认"/>
   </task>
   <task form="/content/flow/newmould/dhklqr.vm" g="55,390,92,52" name="氮化开炉确认">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-34,-11" name="确定" to="氮化出炉确认"/>
   </task>
   <task form="/content/flow/newmould/dhclqr.vm" g="58,461,92,52" name="氮化出炉确认">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-65,-7" name="确定" to="抛排新模处理"/>
   </task>
   <task form="/content/flow/newmould/xmjhgrk.vm" g="684,438,92,52" name="新模合格入库">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-13,-11" name="确定" to="end1"/>
   </task>
   <task form="/content/flow/newmould/jyscsy.vm" g="743,520,148,52" name="挤压生产（试模）使用">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="39,0" name="确定" to="泡模收模确认"/>
   </task>
   <task form="/content/flow/newmould/pmsmqr.vm" g="835,429,92,52" name="泡模收模确认">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-40,0" name="确定" to="抛排收模处理"/>
   </task>
   <task form="/content/flow/newmould/ppsmcl.vm" g="828,327,92,52" name="抛排收模处理">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="-10,-22" name="转修" to="(试模)异常模转修处理"/>
   </task>
   <task form="/content/flow/newmould/ycmzxcl.vm" g="771,170,159,52" name="(试模)异常模转修处理">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="744,111:-65,-15" name="退模申请" to="报废退模申请"/>
      <transition g="691,286:-20,-21" name="返修申请" to="返修模具申请"/>
      <transition g="-33,23" name="抛排新模处理" to="抛排新模处理"/>
   </task>
   <task form="/content/flow/newmould/fxjxgcccqr.vm" g="273,8,150,52" name="返修及修改尺寸入场确认">
       <assignment-handler class="com.zb.jnlxc.JBPM.PowerHandler"/>
      <transition g="8,-3" name="入场验收" to="模具入场验收"/>
   </task>
    <end g="756,370,48,48" name="end1"/>
   <decision g="114,6,48,48" name="是否出厂">
      <transition g="-38,-8" name="返修入场确认" to="返修及修改尺寸入场确认">
      		<condition expr="#{isReturn == true}"/>
      </transition>
      <transition g="-54,-12" name="入场验收" to="模具入场验收">
      		<condition expr="#{isReturn == false}"/>
      </transition>
   </decision>
</process>